---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "allquiet_integration Resource - allquiet"
subcategory: ""
description: |-
  The integration resource represents an integration in All Quiet. Integrations are used to receive alerts from external systems like Datadog or Prometheus.
---

# allquiet_integration (Resource)

The `integration` resource represents an integration in All Quiet. Integrations are used to receive alerts from external systems like Datadog or Prometheus.

## Example Usage

```terraform
resource "allquiet_team" "root" {
  display_name = "Root"
}

resource "allquiet_integration" "datadog" {
  display_name = "My Datadog Integration"
  team_id      = allquiet_team.root.id
  type         = "Datadog"
}

resource "allquiet_integration" "amazon_cloudwatch" {
  display_name = "My Amazon CloudWatch Integration"
  team_id      = allquiet_team.root.id
  type         = "AmazonCloudWatch"
}

resource "allquiet_integration" "webhook" {
  display_name = "My Webhook Integration"
  team_id      = allquiet_team.root.id
  type         = "Webhook"
  snooze_settings = {
    snooze_window_in_minutes = 1440
  }
  webhook_authentication = {
    type = "bearer"
    bearer = {
      token = "your_secret_token"
    }
  }
}

resource "allquiet_integration" "webhook_snooze_absolute" {
  display_name = "My Webhook Integration"
  team_id      = allquiet_team.root.id
  type         = "Webhook"
  snooze_settings = {
    filters = [
      {
        selected_days         = ["mon", "tue", "wed", "thu", "fri"]
        from                  = "22:00"
        until                 = "07:00"
        snooze_until_absolute = "07:00"
      }
    ]
  }
}

resource "allquiet_integration" "webhook_snooze_absolute_with_weekday" {
  display_name = "My Webhook Integration"
  team_id      = allquiet_team.root.id
  type         = "Webhook"
  snooze_settings = {
    filters = [
      {
        selected_days                 = ["sat", "sun"]
        snooze_until_absolute         = "07:00"
        snooze_until_weekday_absolute = "mon"
      }
    ]
  }
}

resource "allquiet_integration" "heartbeat_monitor" {
  display_name = "My Heartbeat Monitoring Integration"
  team_id      = allquiet_team.root.id
  type         = "HeartbeatMonitor"
  integration_settings = {
    heartbeat_monitor = {
      interval_in_sec     = 60
      grace_period_in_sec = 10
      severity            = "Warning"
    }
  }
}

resource "allquiet_integration" "cronjob_monitor" {
  display_name = "My Cronjob Monitoring Integration"
  team_id      = allquiet_team.root.id
  type         = "CronJobMonitor"
  integration_settings = {
    cronjob_monitor = {
      cron_expression     = "0 0 * * *"
      grace_period_in_sec = 25
      severity            = "Critical"
      time_zone_id        = "Europe/Amsterdam"
    }
  }
}

resource "allquiet_integration" "http_monitoring_post" {
  display_name = "My HTTP Monitoring POST Integration"
  team_id      = allquiet_team.root.id
  type         = "HttpMonitoring"
  integration_settings = {
    http_monitoring = {
      url                         = "https://allquiet.com"
      method                      = "POST"
      timeout_in_milliseconds     = 1000 # 1 second
      interval_in_seconds         = 300  # 5 minutes
      authentication_type         = "Bearer"
      bearer_authentication_token = "your_secret_token"
      headers = {
        "Content-Type" = "application/json"
      }
      body                                     = "{\"message\": \"Hello, world!\"}"
      is_paused                                = false
      content_test                             = "Expected response text"
      ssl_certificate_max_age_in_days_degraded = 30
      ssl_certificate_max_age_in_days_down     = 10
      severity_degraded                        = "Warning"
      severity_down                            = "Critical"
    }
  }
}

resource "allquiet_integration" "http_monitoring_head" {
  display_name = "My HTTP Monitoring HEAD Integration"
  team_id      = allquiet_team.root.id
  type         = "HttpMonitoring"
  integration_settings = {
    http_monitoring = {
      url = "https://allquiet.com"

      method                                   = "HEAD"
      timeout_in_milliseconds                  = 5000 # 5 seconds
      interval_in_seconds                      = 300  # 5 minutes
      authentication_type                      = "Bearer"
      bearer_authentication_token              = "your_secret_token"
      is_paused                                = false
      ssl_certificate_max_age_in_days_degraded = 30
      ssl_certificate_max_age_in_days_down     = 10
      severity_degraded                        = "Warning"
      severity_down                            = "Critical"
    }
  }
}

resource "allquiet_integration" "ping_monitor" {
  display_name = "My Ping Monitoring Integration"
  team_id      = allquiet_team.root.id
  type         = "PingMonitor"
  integration_settings = {
    ping_monitor = {
      host = "google.com"

      timeout_in_milliseconds = 1000
      interval_in_seconds     = 300
      is_paused               = false
      severity_degraded       = "Warning"
      severity_down           = "Critical"
    }
  }
}


locals {
  computed_amazon_cloudwatch_webhook_url = allquiet_integration.amazon_cloudwatch.webhook_url
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of the integration
- `team_id` (String) The team id of the integration
- `type` (String) The type of the integration. See all types here: https://allquiet.app/api/public/v1/inbound-integration/types

### Optional

- `integration_settings` (Attributes) The integration settings of the integration (see [below for nested schema](#nestedatt--integration_settings))
- `is_in_maintenance` (Boolean) If the integration is in maintenance mode. Deprecated: Use resource `allquiet_integration_maintenance_window` instead.
- `is_muted` (Boolean) If the integration is muted. Deprecated: Use resource `allquiet_integration_maintenance_window` instead.
- `snooze_settings` (Attributes) The snooze settings of the integration (see [below for nested schema](#nestedatt--snooze_settings))
- `webhook_authentication` (Attributes) The webhook authentication of the integration (see [below for nested schema](#nestedatt--webhook_authentication))

### Read-Only

- `id` (String) Id
- `webhook_url` (String) The webhook url of the integration if it is a webhook-like integration e.g. Amazon CloudWatch

<a id="nestedatt--integration_settings"></a>
### Nested Schema for `integration_settings`

Optional:

- `cronjob_monitor` (Attributes) The cronjob monitor of the integration (see [below for nested schema](#nestedatt--integration_settings--cronjob_monitor))
- `heartbeat_monitor` (Attributes) The heartbeat monitor of the integration (see [below for nested schema](#nestedatt--integration_settings--heartbeat_monitor))
- `http_monitoring` (Attributes) The http monitoring of the integration (see [below for nested schema](#nestedatt--integration_settings--http_monitoring))
- `ping_monitor` (Attributes) The ping monitor of the integration (see [below for nested schema](#nestedatt--integration_settings--ping_monitor))

<a id="nestedatt--integration_settings--cronjob_monitor"></a>
### Nested Schema for `integration_settings.cronjob_monitor`

Required:

- `cron_expression` (String) The cron expression of the cronjob monitor
- `grace_period_in_sec` (Number) The grace period in seconds of the cronjob monitor
- `severity` (String) The severity of the cronjob monitor. Possible values are: Critical, Warning, Minor

Optional:

- `time_zone_id` (String) The time zone id of the cronjob monitor. Find all timezone ids [here](https://allquiet.app/api/public/v1/timezone)


<a id="nestedatt--integration_settings--heartbeat_monitor"></a>
### Nested Schema for `integration_settings.heartbeat_monitor`

Required:

- `grace_period_in_sec` (Number) The grace period in seconds of the heartbeat monitor
- `interval_in_sec` (Number) The interval in seconds of the heartbeat monitor
- `severity` (String) The severity of the heartbeat monitor. Possible values are: Critical, Warning, Minor


<a id="nestedatt--integration_settings--http_monitoring"></a>
### Nested Schema for `integration_settings.http_monitoring`

Required:

- `interval_in_seconds` (Number) The interval in seconds of the http monitoring. Valid values are: 30, 60, 120, 300, 600, 900, 1800, 3600, 86400
- `method` (String) The method of the http monitoring. Possible values are: HEAD, GET, POST, PUT, PATCH, DELETE
- `timeout_in_milliseconds` (Number) The timeout in milliseconds of the http monitoring. Min 50, max 60000.
- `url` (String) The url of the http monitoring

Optional:

- `authentication_type` (String) The authentication type of the http monitoring. Possible values are: Basic, Bearer, None
- `basic_authentication_password` (String, Sensitive) The basic authentication password of the http monitoring
- `basic_authentication_username` (String, Sensitive) The basic authentication username of the http monitoring
- `bearer_authentication_token` (String, Sensitive) The bearer authentication token of the http monitoring
- `body` (String, Sensitive) The body to send in the http request
- `content_test` (String) The content test of the http monitoring
- `headers` (Map of String, Sensitive) The headers of the http monitoring
- `is_paused` (Boolean) If the http monitoring is paused
- `severity_degraded` (String) The severity degraded of the http monitoring. Possible values are: Critical, Warning, Minor
- `severity_down` (String) The severity down of the http monitoring. Possible values are: Critical, Warning, Minor
- `ssl_certificate_max_age_in_days_degraded` (Number) The ssl certificate max age in days degraded of the http monitoring
- `ssl_certificate_max_age_in_days_down` (Number) The ssl certificate max age in days down of the http monitoring


<a id="nestedatt--integration_settings--ping_monitor"></a>
### Nested Schema for `integration_settings.ping_monitor`

Required:

- `host` (String) The host of the ping monitor
- `interval_in_seconds` (Number) The interval in seconds of the ping monitor. Valid values are: 30, 60, 120, 300, 600, 900, 1800, 3600, 86400
- `timeout_in_milliseconds` (Number) The timeout in milliseconds of the ping monitor. Min 50, max 60000.

Optional:

- `is_paused` (Boolean) If the ping monitor is paused
- `severity_degraded` (String) The severity degraded of the ping monitor. Possible values are: Critical, Warning, Minor
- `severity_down` (String) The severity down of the ping monitor. Possible values are: Critical, Warning, Minor



<a id="nestedatt--snooze_settings"></a>
### Nested Schema for `snooze_settings`

Optional:

- `filters` (Attributes List) The snooze filters of the integration. Only the first matching filter will be applied. Filters are applied in the order they are defined. (see [below for nested schema](#nestedatt--snooze_settings--filters))
- `snooze_window_in_minutes` (Number) The snooze window in minutes. If your integration is flaky and you'd like to reduce noise, you can set a snooze window. This will keep the incident snoozed for the specified time period and only alert you once the snooze window is over and the incident has not been resolved yet. Max 1440 minutes (24 hours).

<a id="nestedatt--snooze_settings--filters"></a>
### Nested Schema for `snooze_settings.filters`

Optional:

- `from` (String) From time of the time filter. Format: HH:mm
- `selected_days` (List of String) Days of the week. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `snooze_until_absolute` (String) The absolute time to snooze the integration until. Format:HH:mm. Examples: When the incident happens at 01 am in the night, and the snooze until absolute is set to 07:00, the incident will be snoozed until 07:00 the same night. If the incident happens at 14:00, it will be snoozed until 07:00 the next day.
- `snooze_until_weekday_absolute` (String) The absolute day of week to snooze the integration until. Needs to be combined with snooze_until_absolute. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `snooze_window_in_minutes` (Number) The snooze window in minutes. If your integration is flaky and you'd like to reduce noise, you can set a snooze window. This will keep the incident snoozed for the specified time period and only alert you once the snooze window is over and the incident has not been resolved yet. Max 1440 minutes (24 hours).
- `until` (String) Until time of the time filter. Format: HH:mm



<a id="nestedatt--webhook_authentication"></a>
### Nested Schema for `webhook_authentication`

Required:

- `type` (String) The type of the webhook authentication. Possible values are: bearer

Optional:

- `bearer` (Attributes) The bearer token of the webhook authentication (see [below for nested schema](#nestedatt--webhook_authentication--bearer))

<a id="nestedatt--webhook_authentication--bearer"></a>
### Nested Schema for `webhook_authentication.bearer`

Required:

- `token` (String, Sensitive) The token of the webhook authentication
