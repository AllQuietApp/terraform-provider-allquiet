---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "allquiet_routing Resource - allquiet"
subcategory: ""
description: |-
  The routing resource allows you to define routing rules for incidents based on various conditions and actions.
---

# allquiet_routing (Resource)

The routing resource allows you to define routing rules for incidents based on various conditions and actions.

## Example Usage

```terraform
resource "allquiet_team" "root" {
  display_name = "Root"
}

resource "allquiet_team" "pres_sales" {
  display_name = "Pre Sales"
}

resource "allquiet_team" "after_sales" {
  display_name = "After Sales"
}

resource "allquiet_integration" "datadog" {
  team_id      = allquiet_team.root.id
  display_name = "Datadog"
  type         = "Datadog"
}

resource "allquiet_integration" "custom_webhook" {
  team_id      = allquiet_team.root.id
  display_name = "Custom Webhook"
  type         = "Webhook"
}


resource "allquiet_outbound_integration" "slack" {
  team_id      = allquiet_team.root.id
  display_name = "Slack"
  type         = "Slack"
}

resource "allquiet_routing" "example_1" {
  team_id      = allquiet_team.root.id
  display_name = "Route to specific team based on attribute"
  rules = [
    {
      conditions = {
        attributes = [
          {
            name     = "Service",
            operator = "=",
            value    = "Pre Sales"
          }
        ]
      },
      actions = {
        assign_to_teams = [allquiet_team.pres_sales.id]
      }
    },

    {
      conditions = {
        attributes = [
          {
            name     = "Service",
            operator = "=",
            value    = "After Sales"
          }
        ]
      },
      actions = {
        assign_to_teams = [allquiet_team.after_sales.id]
      }
    }
  ]
}

resource "allquiet_routing" "example_2" {
  team_id      = allquiet_team.root.id
  display_name = "Mute Slack Outbound Integration when Minor"
  rules = [
    {
      conditions = {
        severities = ["Minor"]
      },
      channels = {
        outbound_integrations       = [allquiet_outbound_integration.slack.id]
        outbound_integrations_muted = true
      },
    },
  ]
}

resource "allquiet_routing" "example_3" {
  team_id      = allquiet_team.root.id
  display_name = "Auto Resolve non Critical incidents from Custom Webhook"
  rules = [
    {
      conditions = {
        severities   = ["Minor", "Warning"]
        integrations = [allquiet_integration.custom_webhook.id]
      },
      actions = {
        add_interaction = "Resolved"
      }
    },
  ]
}

resource "allquiet_routing" "example_4" {
  team_id      = allquiet_team.root.id
  display_name = "Auto Resolve non Critical incidents from Custom Webhook after 10 minutes"
  rules = [
    {
      conditions = {
        severities   = ["Minor", "Warning"]
        integrations = [allquiet_integration.custom_webhook.id]
      },
      actions = {
        add_interaction = "Resolved"
        delay_actions_in_minutes = 10
      }
    },
  ]
}

```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of the routing
- `team_id` (String) The team id of the routing

### Optional

- `rules` (Attributes List) (see [below for nested schema](#nestedatt--rules))

### Read-Only

- `id` (String) Id

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `conditions` (Attributes) Settings for the schedule (see [below for nested schema](#nestedatt--rules--conditions))

Optional:

- `actions` (Attributes) Settings for the schedule (see [below for nested schema](#nestedatt--rules--actions))
- `channels` (Attributes) Settings for the schedule (see [below for nested schema](#nestedatt--rules--channels))

<a id="nestedatt--rules--conditions"></a>
### Nested Schema for `rules.conditions`

Optional:

- `attributes` (Attributes List) (see [below for nested schema](#nestedatt--rules--conditions--attributes))
- `integrations` (List of String) Integration IDs
- `intents` (List of String) Intents. Possible values are: Investigated, Commented, Escalated, Resolved, Unresolved, Created, Deleted, Updated
- `severities` (List of String) Severeties. Possible values are: Critical, Warning, Minor
- `statuses` (List of String) Statuses. Possible values are: Open, Resolved

<a id="nestedatt--rules--conditions--attributes"></a>
### Nested Schema for `rules.conditions.attributes`

Required:

- `name` (String) The name of the attribute
- `operator` (String) The operator

Optional:

- `value` (String) The value of the attribute to match with the operator against



<a id="nestedatt--rules--actions"></a>
### Nested Schema for `rules.actions`

Optional:

- `add_interaction` (String) Will add an interaction. For instance, you can auto resolve an incident by adding an interaction of intent 'Resolved'
- `assign_to_teams` (List of String) Will assign the incident to the specified teams
- `change_severity` (String) Will change the severity of the incident
- `discard` (Boolean) If true will discard and delete the incident
- `rule_flow_control` (String) If 'Skip' will not evaluate further rules


<a id="nestedatt--rules--channels"></a>
### Nested Schema for `rules.channels`

Optional:

- `notification_channels` (List of String) Notification channels
- `notification_channels_muted` (Boolean) If true will mute the notification channels
- `outbound_integrations` (List of String) Outbound integrations
- `outbound_integrations_muted` (Boolean) If true will mute the outbound integrations
