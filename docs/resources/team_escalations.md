---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "allquiet_team_escalations Resource - allquiet"
subcategory: ""
description: |-
  The Team Escalations resource represents a Team's Escalation Tiers in All Quiet. Escalation Tiers are used to group members and define schedules, its tiers and rorations.
---

# allquiet_team_escalations (Resource)

The Team Escalations resource represents a Team's Escalation Tiers in All Quiet. Escalation Tiers are used to group members and define schedules, its tiers and rorations.

## Example Usage

```terraform
################################################################################
# Create users
################################################################################

resource "allquiet_user" "riemann" {
  display_name = "Riemann"
  email        = "acceptance-tests+riemann@allquiet.app"
}

resource "allquiet_user" "galois" {
  display_name = "Galois"
  email        = "acceptance-tests+galois@allquiet.app"
}

resource "allquiet_user" "gauss" {
  display_name = "Gauss"
  email        = "acceptance-tests+gauss@allquiet.app"
}

resource "allquiet_user" "kolmogorov" {
  display_name = "Kolmogorov"
  email        = "acceptance-tests+kolmogorov@allquiet.app"
}

################################################################################
# Example 1: My team with weekend rotation
################################################################################

resource "allquiet_team" "my_team_with_weekend_rotation" {
  display_name = "My team with weekend rotation"
  time_zone_id = "America/Los_Angeles"
}

resource "allquiet_team_membership" "my_team_with_weekend_rotation_riemann" {
  team_id = allquiet_team.my_team_with_weekend_rotation.id
  user_id = allquiet_user.riemann.id
  role    = "Administrator"
}

resource "allquiet_team_membership" "my_team_with_weekend_rotation_galois" {
  team_id = allquiet_team.my_team_with_weekend_rotation.id
  user_id = allquiet_user.galois.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_weekend_rotation_gauss" {
  team_id = allquiet_team.my_team_with_weekend_rotation.id
  user_id = allquiet_user.gauss.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_weekend_rotation_kolmogorov" {
  team_id = allquiet_team.my_team_with_weekend_rotation.id
  user_id = allquiet_user.kolmogorov.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_weekend_rotation" {
  team_id = allquiet_team.my_team_with_weekend_rotation.id
  escalation_tiers = [
    {
      auto_escalation_enabled       = true
      auto_escalation_after_minutes = 5
      schedules = [
        {
          schedule_settings = {
            selected_days = ["mon", "tue", "wed", "thu", "fri"]
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_galois.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_gauss.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_kolmogorov.id
                }
              ]
            }
          ]
        },

        {
          schedule_settings = {
            selected_days = ["sat", "sun"]
          }
          rotation_settings = {
            repeats               = "weekly"
            starts_on_day_of_week = "sat"
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_galois.id
                }
              ]
            },
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_gauss.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekend_rotation_kolmogorov.id
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}

################################################################################
# Example 2: My team with day and night rotation
################################################################################

resource "allquiet_team" "my_team_with_day_and_night_rotation" {
  display_name = "My team with day and night rotation"
  time_zone_id = "America/Los_Angeles"
}


resource "allquiet_team_membership" "my_team_with_day_and_night_rotation_riemann" {
  team_id = allquiet_team.my_team_with_day_and_night_rotation.id
  user_id = allquiet_user.riemann.id
  role    = "Administrator"
}

resource "allquiet_team_membership" "my_team_with_day_and_night_rotation_galois" {
  team_id = allquiet_team.my_team_with_day_and_night_rotation.id
  user_id = allquiet_user.galois.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_day_and_night_rotation_gauss" {
  team_id = allquiet_team.my_team_with_day_and_night_rotation.id
  user_id = allquiet_user.gauss.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_day_and_night_rotation_kolmogorov" {
  team_id = allquiet_team.my_team_with_day_and_night_rotation.id
  user_id = allquiet_user.kolmogorov.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_day_and_night_rotation" {
  team_id = allquiet_team.my_team_with_day_and_night_rotation.id
  escalation_tiers = [
    {
      auto_escalation_enabled       = true
      auto_escalation_after_minutes = 5
      schedules = [
        {
          schedule_settings = {
            start : "08:00"
            end : "20:00"
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_galois.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_gauss.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_kolmogorov.id
                }
              ]
            }
          ]
        },
        {
          schedule_settings = {
            start : "20:00"
            end : "08:00"
          }
          rotation_settings = {
            repeats               = "weekly"
            starts_on_day_of_week = "sat"
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_galois.id
                }
              ]
            },
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_gauss.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_day_and_night_rotation_kolmogorov.id
                }
              ]
            }
          ]
        }
      ]
    }
  ]

}

################################################################################
# Example 3: My team with hourly rotation
################################################################################

resource "allquiet_team" "my_team_with_hourly_rotation" {
  display_name = "My team with hourly rotation"
  time_zone_id = "America/Los_Angeles"
}


resource "allquiet_team_membership" "my_team_with_hourly_rotation_riemann" {
  team_id = allquiet_team.my_team_with_hourly_rotation.id
  user_id = allquiet_user.riemann.id
  role    = "Administrator"
}

resource "allquiet_team_membership" "my_team_with_hourly_rotation_galois" {
  team_id = allquiet_team.my_team_with_hourly_rotation.id
  user_id = allquiet_user.galois.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_hourly_rotation" {
  team_id = allquiet_team.my_team_with_hourly_rotation.id
  escalation_tiers = [
    {
      auto_escalation_enabled       = true
      auto_escalation_after_minutes = 5
      schedules = [
        {
          rotation_settings = {
            repeats             = "custom"
            custom_repeat_unit  = "hours"
            custom_repeat_value = 6
            starts_on_time      = "09:00"
            effective_from      = "2024-07-10"
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_hourly_rotation_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_hourly_rotation_galois.id
                },
              ]
            }
          ]
        },
      ]
    }
  ]
}

################################################################################
# Example 4: My team with auto rotation
################################################################################

resource "allquiet_team" "my_team_with_auto_rotation" {
  display_name = "My team with auto rotation"
  time_zone_id = "America/Los_Angeles"
}


resource "allquiet_team_membership" "my_team_with_auto_rotation_riemann" {
  team_id = allquiet_team.my_team_with_auto_rotation.id
  user_id = allquiet_user.riemann.id
  role    = "Administrator"
}

resource "allquiet_team_membership" "my_team_with_auto_rotation_galois" {
  team_id = allquiet_team.my_team_with_auto_rotation.id
  user_id = allquiet_user.galois.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_auto_rotation_gauss" {
  team_id = allquiet_team.my_team_with_auto_rotation.id
  user_id = allquiet_user.gauss.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_auto_rotation_kolmogorov" {
  team_id = allquiet_team.my_team_with_auto_rotation.id
  user_id = allquiet_user.kolmogorov.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_auto_rotation" {
  team_id = allquiet_team.my_team_with_auto_rotation.id
  escalation_tiers = [
    {
      schedules = [
        {
          rotation_settings = {
            repeats               = "weekly"
            starts_on_day_of_week = "sat"
            rotation_mode         = "auto"
            auto_rotation_size    = 3
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_auto_rotation_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_auto_rotation_galois.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_auto_rotation_gauss.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_auto_rotation_kolmogorov.id
                },
              ]
            }
          ]
        },
      ]
    }
  ]
}

################################################################################
# Example 5: My team with repeating tier
################################################################################

resource "allquiet_team" "my_team_with_repeating_tier" {
  display_name = "My team with repeating tier"
  time_zone_id = "America/Los_Angeles"
}

resource "allquiet_team_membership" "my_team_with_repeating_tier_riemann" {
  team_id = allquiet_team.my_team_with_repeating_tier.id
  user_id = allquiet_user.riemann.id
  role    = "Administrator"
}

resource "allquiet_team_membership" "my_team_with_repeating_tier_galois" {
  team_id = allquiet_team.my_team_with_repeating_tier.id
  user_id = allquiet_user.galois.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_repeating_tier_gauss" {
  team_id = allquiet_team.my_team_with_repeating_tier.id
  user_id = allquiet_user.gauss.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_repeating_tier_kolmogorov" {
  team_id = allquiet_team.my_team_with_repeating_tier.id
  user_id = allquiet_user.kolmogorov.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_repeating_tier" {
  team_id = allquiet_team.my_team_with_repeating_tier.id
  escalation_tiers = [
    {
      auto_escalation_enabled       = true
      auto_escalation_after_minutes = 5
      repeats                       = 2
      repeats_after_minutes         = 0
      auto_escalation_severities    = ["Critical"]
      schedules = [
        {
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_repeating_tier_riemann.id
                },
                {
                  team_membership_id = allquiet_team_membership.my_team_with_repeating_tier_galois.id
                },
              ]
            }
          ]
        }
      ]
    },
    {
      schedules = [
        {
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_repeating_tier_gauss.id
                },
              ]
            }
          ]
        }
      ]
    }
  ]
}

################################################################################
# Example 6: Root Team with Auto Assign To Teams
################################################################################

resource "allquiet_team" "root_team" {
  display_name = "Root team"
  time_zone_id = "America/Los_Angeles"
}

resource "allquiet_team" "second_level_support_team" {
  display_name = "2nd level support team"
  time_zone_id = "America/Los_Angeles"
}

resource "allquiet_team_membership" "root_team_riemann" {
  team_id = allquiet_team.root_team.id
  user_id = allquiet_user.riemann.id
  role    = "Member"
}

resource "allquiet_team_escalations" "root_team_escalations" {
  team_id = allquiet_team.root_team.id
  escalation_tiers = [
    {
      auto_escalation_enabled       = true
      auto_escalation_after_minutes = 5
      auto_escalation_severities    = ["Critical", "Warning"]
      auto_escalation_time_filters = [
        {
          selected_days = ["mon", "tue", "wed", "thu", "fri"]
          from          = "08:00"
          until         = "17:00"
        }
      ]
      auto_assign_to_teams            = [allquiet_team.second_level_support_team.id]
      auto_assign_to_teams_severities = ["Critical"]
      auto_assign_to_teams_time_filters = [
        {
          selected_days = ["mon", "tue", "wed", "thu", "fri"]
          from          = "08:00"
          until         = "17:00"
        }
      ]
      schedules = [
        {
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.root_team_riemann.id
                },
              ]
            }
          ]
        }
      ]
    }
  ]
}

################################################################################
# Example 7: Team with weekly schedules
################################################################################

resource "allquiet_team" "my_team_with_weekly_schedules" {
  display_name = "My team with weekly schedules"
  time_zone_id = "America/Los_Angeles"
}


resource "allquiet_team_membership" "my_team_with_weekly_schedules_riemann" {
  team_id = allquiet_team.my_team_with_weekly_schedules.id
  user_id = allquiet_user.riemann.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_weekly_schedules" {
  team_id = allquiet_team.my_team_with_weekly_schedules.id
  escalation_tiers = [
    {
      schedules = [
        {
          schedule_settings = {
            weekly_schedules = [
              {
                selected_days = ["mon", "tue", "wed", "thu", "fri"]
                from          = "06:00"
                until         = "18:00"
              },
              {
                selected_days = ["sat", "sun"]
                from          = "10:00"
                until         = "14:00"
              }
            ]
          }
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_weekly_schedules_riemann.id
                },
              ]
            }
          ]
        }
      ]
    }
  ]
}


################################################################################
# Example 8: Team with all tiers repeating
################################################################################

resource "allquiet_team" "my_team_with_all_tiers_repeating" {
  display_name = "My team with all tiers repeating"
  time_zone_id = "America/Los_Angeles"
}

resource "allquiet_team_membership" "my_team_with_all_tiers_repeating_riemann" {
  team_id = allquiet_team.my_team_with_all_tiers_repeating.id
  user_id = allquiet_user.riemann.id
  role    = "Member"
}

resource "allquiet_team_membership" "my_team_with_all_tiers_repeating_galois" {
  team_id = allquiet_team.my_team_with_all_tiers_repeating.id
  user_id = allquiet_user.galois.id
  role    = "Member"
}

resource "allquiet_team_escalations" "my_team_escalations_with_all_tiers_repeating" {
  team_id = allquiet_team.my_team_with_all_tiers_repeating.id
  tier_settings = {
    repeats               = 2
    repeats_after_minutes = 5
    repeats_stop_mode     = "resolved"
  }
  escalation_tiers = [
    {
      auto_escalation_enabled       = true
      auto_escalation_after_minutes = 5
      auto_escalation_stop_mode     = "acknowledged"
      repeats                       = 2
      repeats_after_minutes         = 0
      repeats_stop_mode             = "resolved"
      schedules = [
        {
          rotations = [
            {
              members = [
                {
                  team_membership_id = allquiet_team_membership.my_team_with_all_tiers_repeating_riemann.id
                },
              ]
            }
          ]
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `team_id` (String) Id of the associated team

### Optional

- `escalation_tiers` (Attributes List) (see [below for nested schema](#nestedatt--escalation_tiers))
- `tier_settings` (Attributes) (see [below for nested schema](#nestedatt--tier_settings))

### Read-Only

- `id` (String) Id

<a id="nestedatt--escalation_tiers"></a>
### Nested Schema for `escalation_tiers`

Required:

- `schedules` (Attributes List) (see [below for nested schema](#nestedatt--escalation_tiers--schedules))

Optional:

- `auto_assign_to_teams` (List of String) Team IDs that should be auto-assigned to.
- `auto_assign_to_teams_severities` (List of String) Severities that should trigger auto-assign to teams. Possible values are: Critical, Warning, Minor
- `auto_assign_to_teams_time_filters` (Attributes List) Time filters in which auto-assign to teams should be triggered. (see [below for nested schema](#nestedatt--escalation_tiers--auto_assign_to_teams_time_filters))
- `auto_escalation_after_minutes` (Number) Escalation cadence in minutes. After how many minutes the incident should be auto-escalated to the next tier or auto-assigned to teams.
- `auto_escalation_enabled` (Boolean) Whether auto-escalation is enabled for this tier.
- `auto_escalation_severities` (List of String) Severities that should trigger auto-escalation. Possible values are: Critical, Warning, Minor
- `auto_escalation_stop_mode` (String) When the escalation should be stopped. Possible values are: resolved, acknowledged
- `auto_escalation_time_filters` (Attributes List) Time filters in which auto-escalation should be triggered. (see [below for nested schema](#nestedatt--escalation_tiers--auto_escalation_time_filters))
- `repeats` (Number) How many times the rotation should repeat.
- `repeats_after_minutes` (Number) How many minutes after the rotation should repeat.
- `repeats_stop_mode` (String) When this tier should stop being repeated. Possible values are: resolved, acknowledged

<a id="nestedatt--escalation_tiers--schedules"></a>
### Nested Schema for `escalation_tiers.schedules`

Required:

- `rotations` (Attributes List) (see [below for nested schema](#nestedatt--escalation_tiers--schedules--rotations))

Optional:

- `rotation_settings` (Attributes) Settings for the rotation (see [below for nested schema](#nestedatt--escalation_tiers--schedules--rotation_settings))
- `schedule_settings` (Attributes) Settings for the schedule (see [below for nested schema](#nestedatt--escalation_tiers--schedules--schedule_settings))

<a id="nestedatt--escalation_tiers--schedules--rotations"></a>
### Nested Schema for `escalation_tiers.schedules.rotations`

Required:

- `members` (Attributes List) (see [below for nested schema](#nestedatt--escalation_tiers--schedules--rotations--members))

<a id="nestedatt--escalation_tiers--schedules--rotations--members"></a>
### Nested Schema for `escalation_tiers.schedules.rotations.members`

Required:

- `team_membership_id` (String) Id of the team membership



<a id="nestedatt--escalation_tiers--schedules--rotation_settings"></a>
### Nested Schema for `escalation_tiers.schedules.rotation_settings`

Required:

- `repeats` (String) The rotation will repeat on the given interval. Possible values are: daily, weekly, biweekly, monthly, custom

Optional:

- `auto_rotation_size` (Number) The size of the rotation
- `custom_repeat_unit` (String) In what interval unit the rotation should repeat. Needs to be set if 'repeats' is 'custom'. Possible values are: months, weeks, days, hours
- `custom_repeat_value` (Number) How often the rotation should repeat. Needs to be set if 'repeats' is 'custom'
- `effective_from` (String) If sets, the rotation will be effective from the given date in ISO 8601 format
- `rotation_mode` (String) The mode of the rotation. Possible values are: explicit, auto
- `starts_on_date_of_month` (Number) If set, starts on date of the month. Needs to be set if 'repeats' is 'monthly'
- `starts_on_day_of_week` (String) Starts on day of the week. Needs to be set if 'repeats' is not 'monthly'. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `starts_on_time` (String) If set, starts on time of day. Needs to be set if 'repeats' is 'custom' and 'custom_repeat_unit' is 'hours'. Format: HH:mm


<a id="nestedatt--escalation_tiers--schedules--schedule_settings"></a>
### Nested Schema for `escalation_tiers.schedules.schedule_settings`

Optional:

- `end` (String, Deprecated) End time of the schedule. Format: HH:mm
- `selected_days` (List of String, Deprecated) Selected days of the week. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `start` (String, Deprecated) Start time of the schedule. Format: HH:mm
- `weekly_schedules` (Attributes List) Weekly schedules (see [below for nested schema](#nestedatt--escalation_tiers--schedules--schedule_settings--weekly_schedules))

<a id="nestedatt--escalation_tiers--schedules--schedule_settings--weekly_schedules"></a>
### Nested Schema for `escalation_tiers.schedules.schedule_settings.weekly_schedules`

Optional:

- `from` (String) From time of the time filter. Format: HH:mm
- `selected_days` (List of String) Days of the week. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `until` (String) Until time of the time filter. Format: HH:mm




<a id="nestedatt--escalation_tiers--auto_assign_to_teams_time_filters"></a>
### Nested Schema for `escalation_tiers.auto_assign_to_teams_time_filters`

Optional:

- `from` (String) From time of the time filter. Format: HH:mm
- `selected_days` (List of String) Days of the week. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `until` (String) Until time of the time filter. Format: HH:mm


<a id="nestedatt--escalation_tiers--auto_escalation_time_filters"></a>
### Nested Schema for `escalation_tiers.auto_escalation_time_filters`

Optional:

- `from` (String) From time of the time filter. Format: HH:mm
- `selected_days` (List of String) Days of the week. Possible values are: sun, mon, tue, wed, thu, fri, sat
- `until` (String) Until time of the time filter. Format: HH:mm



<a id="nestedatt--tier_settings"></a>
### Nested Schema for `tier_settings`

Optional:

- `repeats` (Number) How many times all tiers should repeat.
- `repeats_after_minutes` (Number) How many minutes after the last tier all tiers should repeat.
- `repeats_stop_mode` (String) When all tiers should stop repeating. Possible values are: resolved, acknowledged
